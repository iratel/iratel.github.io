<!DOCTYPE html><html lang="zh-cn"><head><meta charset="utf-8"><title>Spring Cloud Gatewayä¸­çš„GatewayFilterå’ŒGlobalFilter | è®¸è¿›æ²‰æ€å½•-ä¸“æ³¨äºäº’è”ç½‘ä¸ä¸­é—´ä»¶åŸºç¡€æ¶æ„æŠ€æœ¯ç ”ç©¶</title><meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta name="format-detection" content="telephone=no"><meta name="author" content="HaloğŸ’«"><meta name="designer" content="minfive"><meta name="keywords" content="è®¸è¿›|Spring Cloud,ä¸­é—´ä»¶ï¼ŒåŸºç¡€æ¶æ„ï¼Œwww.xujin.org,xujin.org,-è®¸è¿›æ²‰æ€å½•,Venus+,äº‘é¦–ç§‘æŠ€æœ‰é™å…¬å¸,äº‘è®¡ç®—ï¼Œå¤§æ•°æ®ï¼Œç‰©è”ç½‘ï¼ŒSoftware_kingçš„åšå®¢,äº‘è®¡ç®—Saasï¼Œäº‘è®¡ç®—Paasï¼Œäº‘è®¡ç®—Iaas Hadoopï¼Œå¤§æ•°æ®ï¼ŒJavaEEï¼ŒJavaï¼Œç‰©è”ç½‘ï¼ŒHadoopï¼Œ NoSQLï¼ŒMongoDB,Spring, Hibernate,Struts2,Shiro,Spring Security Activiti,JBPM"><meta name="description" content="Spring Cloudä¸­å›½ç¤¾åŒºåˆ›å§‹äººï¼Œå…¥èŒäºé˜¿é‡Œ,æ›¾å…¥èŒäºå”¯å“ä¼šä¸­é—´ä»¶,ä¸šä½™ä¸»è¦ç ”ç©¶Spring Cloudã€‚ã€Šé‡æ–°å®šä¹‰Spring Cloudå®æˆ˜ã€‹ä½œè€…"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="format-detection" content="telephone=yes"><meta name="mobile-web-app-capable" content="yes"><meta name="robots" content="all"><link rel="canonical" href="http://xujin.org/sc/gw/gw07/index.html"><link rel="icon" type="image/png" href="null" sizes="32x32"><link rel="stylesheet" href="/scss/base/index.css"><link rel="alternate" href="/atom.xml" title="è®¸è¿›æ²‰æ€å½•-ä¸“æ³¨äºäº’è”ç½‘ä¸ä¸­é—´ä»¶åŸºç¡€æ¶æ„æŠ€æœ¯ç ”ç©¶"><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?c54bda95ff8b34e8be2edd1d138812c1";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-117331438-1"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-117331438-1")</script><link rel="stylesheet" href="/scss/views/page/post.css"></head><body ontouchstart><div id="page-loading" class="page page-loading" style="background-image:url(/img/loading-small.gif)"></div><div id="page" class="page js-hidden"><header class="page__small-header page__header--small"><nav class="page__navbar"><div class="page__container navbar-container"><a class="page__logo" href="/" title="è®¸è¿›æ²‰æ€å½•-ä¸“æ³¨äºäº’è”ç½‘ä¸ä¸­é—´ä»¶åŸºç¡€æ¶æ„æŠ€æœ¯ç ”ç©¶" alt="è®¸è¿›æ²‰æ€å½•-ä¸“æ³¨äºäº’è”ç½‘ä¸ä¸­é—´ä»¶åŸºç¡€æ¶æ„æŠ€æœ¯ç ”ç©¶"><img src="http://xujin.org/css/images/logo.png" alt="è®¸è¿›æ²‰æ€å½•-ä¸“æ³¨äºäº’è”ç½‘ä¸ä¸­é—´ä»¶åŸºç¡€æ¶æ„æŠ€æœ¯ç ”ç©¶"></a><nav class="page__nav"><ul class="nav__list clearfix"><li class="nav__item"><a href="/" alt="é¦–é¡µ" title="é¦–é¡µ">é¦–é¡µ</a></li><li class="nav__item"><a href="/archives" alt="å½’æ¡£" title="å½’æ¡£">å½’æ¡£</a></li><li class="nav__item"><a href="/about" alt="å…³äº" title="å…³äº">å…³äº</a></li></ul></nav><button class="page__menu-btn" type="button"><i class="iconfont icon-menu"></i></button></div></nav></header><main class="page__container page__main"><div class="page__content"><article class="page__post"><header class="post__info"><h1 class="post__title">Spring Cloud Gatewayä¸­çš„GatewayFilterå’ŒGlobalFilter</h1><div class="post__mark"><div class="mark__block"><i class="mark__icon iconfont icon-write"></i><ul class="mark__list clearfix"><li class="mark__item"><a href="http://xujin.org/">è®¸è¿›</a></li></ul></div><div class="mark__block"><i class="mark__icon iconfont icon-time"></i><ul class="mark__list clearfix"><li class="mark__item"><span>2018-05-26</span></li></ul></div><div class="mark__block"><i class="mark__icon iconfont icon-tab"></i><ul class="mark__list clearfix"><li class="mark__item"><a href="/tags/Spring-Cloud-Gateway/">Spring Cloud Gateway</a></li></ul></div><div class="mark__block"><i class="mark__icon iconfont icon-eye"></i><ul class="mark__list clearfix"><li id="busuanzi_container_page_pv" class="mark__item"><span id="busuanzi_value_page_pv"></span>æ¬¡</li></ul></div></div></header><div class="post__content"><p><strong>æ‘˜è¦</strong>:æœ¬æ–‡ä¸»è¦ä»‹ç»äº†ä»€ä¹ˆæ˜¯GatewayFilterå’ŒGlobalFilterï¼Œä»¥åŠåŒºåˆ«å’Œè”ç³»ã€‚ç„¶åä»‹ç»å¦‚ä½•åœ¨Spring Cloud Gatewayä¸­è‡ªå®šä¹‰ä½¿ç”¨GatewayFilterå’ŒGlobalFilterã€‚</p><a id="more"></a><h2 id="1-Spring-Cloud-gatewayçš„Filter"><a href="#1-Spring-Cloud-gatewayçš„Filter" class="headerlink" title="1. Spring Cloud gatewayçš„Filter"></a>1. Spring Cloud gatewayçš„Filter</h2><p>Spring Cloud gatewayä¸­çš„Filterä»æ¥å£å®ç°ä¸Šåˆ†ä¸ºä¸¤ç§ä¸€ç§æ˜¯GatewayFilterï¼Œå¦å¤–ä¸€ç§æ˜¯GlobalFilterã€‚</p><h2 id="1-1-GatewayFilterä¸GlobalFilterçš„åŒºåˆ«"><a href="#1-1-GatewayFilterä¸GlobalFilterçš„åŒºåˆ«" class="headerlink" title="1.1 GatewayFilterä¸GlobalFilterçš„åŒºåˆ«"></a>1.1 GatewayFilterä¸GlobalFilterçš„åŒºåˆ«</h2><p>åŒºåˆ«ç”¨è‹±è¯­å¯ä»¥æ€»ç»“å¦‚ä¸‹:<br>At a high level global filters are applied to all routes, while a gateway filter will be applied to an individual route(s)</p><blockquote><p>åœ¨ä¸€ä¸ªé«˜çš„è§’åº¦æ¥çœ‹ï¼ŒGlobal filtersä¼šè¢«åº”ç”¨åˆ°æ‰€æœ‰çš„è·¯ç”±ä¸Šï¼Œè€ŒGateway filterå°†åº”ç”¨åˆ°<code>å•ä¸ªè·¯ç”±</code>ä¸Šæˆ–è€…<code>ä¸€ä¸ªåˆ†ç»„çš„è·¯ç”±</code>ä¸Šã€‚åœ¨ä¸‹é¢çš„æ¡ˆä¾‹ä¸­å°†ä¼šè¿›è¡Œè¯´æ˜ã€‚</p></blockquote><h2 id="1-2-æœ¬æ–‡ä»£ç åœ°å€"><a href="#1-2-æœ¬æ–‡ä»£ç åœ°å€" class="headerlink" title="1.2 æœ¬æ–‡ä»£ç åœ°å€"></a>1.2 æœ¬æ–‡ä»£ç åœ°å€</h2><blockquote><p><a href="https://github.com/SoftwareKing/sc-gateway/tree/master/ch2" target="_blank" rel="noopener">https://github.com/SoftwareKing/sc-gateway/tree/master/ch2</a></p></blockquote><h2 id="2-GatewayFilterå’ŒGlobalFilter"><a href="#2-GatewayFilterå’ŒGlobalFilter" class="headerlink" title="2. GatewayFilterå’ŒGlobalFilter"></a>2. GatewayFilterå’ŒGlobalFilter</h2><h3 id="2-1-GatewayFilter"><a href="#2-1-GatewayFilter" class="headerlink" title="2.1 GatewayFilter"></a>2.1 GatewayFilter</h3><h4 id="2-1-1-ä»€ä¹ˆæ˜¯GatewayFilter"><a href="#2-1-1-ä»€ä¹ˆæ˜¯GatewayFilter" class="headerlink" title="2.1.1 ä»€ä¹ˆæ˜¯GatewayFilter"></a>2.1.1 ä»€ä¹ˆæ˜¯GatewayFilter</h4><p>Contract for interception-style, chained processing of Web requests that may be used to implement cross-cutting, application-agnostic requirements such<br>as security, timeouts, and others. Specific to a Gateway Copied from WebFilter</p><blockquote><p>GatewayFilteræ˜¯ä»WebFilterä¸­Copyè¿‡æ¥çš„ï¼Œç›¸å½“äºä¸€ä¸ªFilterè¿‡æ»¤å™¨ï¼Œå¯ä»¥å¯¹è®¿é—®çš„URLè¿‡æ»¤æ¨ªåˆ‡å¤„ç†ï¼Œåº”ç”¨åœºæ™¯æ¯”å¦‚è¶…æ—¶ï¼Œå®‰å…¨ç­‰ã€‚</p></blockquote><p>ä»Spring Cloud Gatewayçš„æºç ä¸­å¦‚ä¸‹æ‰€ç¤ºï¼Œå¯ä»¥çœ‹å‡ºGatewayFilterçš„ä½¿ç”¨åœºæ™¯:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Contract for interception-style, chained processing of Web requests that may</span></span><br><span class="line"><span class="comment"> * be used to implement cross-cutting, application-agnostic requirements such</span></span><br><span class="line"><span class="comment"> * as security, timeouts, and others. Specific to a Gateway</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * Copied from WebFilter</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> Rossen Stoyanchev</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 5.0</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">GatewayFilter</span> <span class="keyword">extends</span> <span class="title">ShortcutConfigurable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	String NAME_KEY = <span class="string">"name"</span>;</span><br><span class="line">	String VALUE_KEY = <span class="string">"value"</span>;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * Process the Web request and (optionally) delegate to the next</span></span><br><span class="line"><span class="comment">	 * &#123;<span class="doctag">@code</span> WebFilter&#125; through the given &#123;<span class="doctag">@link</span> GatewayFilterChain&#125;.</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> exchange the current server exchange</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> chain provides a way to delegate to the next filter</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span> &#123;<span class="doctag">@code</span> Mono&lt;Void&gt;&#125; to indicate when request processing is complete</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function">Mono&lt;Void&gt; <span class="title">filter</span><span class="params">(ServerWebExchange exchange, GatewayFilterChain chain)</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>GatewayFilterå’ŒGlobalFilterä¸¤ä¸ªæ¥å£ä¸­å®šä¹‰çš„æ–¹æ³•ä¸€æ ·éƒ½æ˜¯Mono<void>filter(ServerWebExchange exchange, GatewayFilterChain chain)ï¼Œå”¯ä¸€çš„åŒºåˆ«å°±æ˜¯GatewayFilterç»§æ‰¿äº†ShortcutConfigurableï¼ŒGlobalFilteræ²¡æœ‰ä»»ä½•ç»§æ‰¿ã€‚</void></p></blockquote><h5 id="2-1-2-è‡ªå®šä¹‰GatewayFilter-Custom-GatewayFilter"><a href="#2-1-2-è‡ªå®šä¹‰GatewayFilter-Custom-GatewayFilter" class="headerlink" title="2.1.2 è‡ªå®šä¹‰GatewayFilter(Custom GatewayFilter)"></a>2.1.2 è‡ªå®šä¹‰GatewayFilter(Custom GatewayFilter)</h5><p>å¦‚org.xujin.sc.filter.CustomFilterä»£ç æ‰€ç¤ºï¼Œé€šè¿‡è‡ªå®šä¹‰GatewayFilterå¯¹è·¯ç”±è½¬å‘çš„å¤„ç†æ—¶é•¿ç»Ÿè®¡ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.xujin.sc.filter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.commons.logging.Log;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.logging.LogFactory;</span><br><span class="line"><span class="keyword">import</span> org.springframework.cloud.gateway.filter.GatewayFilter;</span><br><span class="line"><span class="keyword">import</span> org.springframework.cloud.gateway.filter.GatewayFilterChain;</span><br><span class="line"><span class="keyword">import</span> org.springframework.core.Ordered;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.server.ServerWebExchange;</span><br><span class="line"><span class="keyword">import</span> reactor.core.publisher.Mono;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç»Ÿè®¡æŸä¸ªæˆ–è€…æŸç§è·¯ç”±çš„çš„å¤„ç†æ—¶é•¿</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xujin</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CustomFilter</span> <span class="keyword">implements</span> <span class="title">GatewayFilter</span>, <span class="title">Ordered</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Log log = LogFactory.getLog(GatewayFilter.class);</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> String COUNT_Start_TIME = <span class="string">"countStartTime"</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Mono&lt;Void&gt; <span class="title">filter</span><span class="params">(ServerWebExchange exchange, GatewayFilterChain chain)</span> </span>&#123;</span><br><span class="line">        exchange.getAttributes().put(COUNT_Start_TIME, System.currentTimeMillis());</span><br><span class="line">        <span class="keyword">return</span> chain.filter(exchange).then(</span><br><span class="line">                Mono.fromRunnable(() -&gt; &#123;</span><br><span class="line">                    Long startTime = exchange.getAttribute(COUNT_Start_TIME);</span><br><span class="line">                    Long endTime=(System.currentTimeMillis() - startTime);</span><br><span class="line">                    <span class="keyword">if</span> (startTime != <span class="keyword">null</span>) &#123;</span><br><span class="line">                        log.info(exchange.getRequest().getURI().getRawPath() + <span class="string">": "</span> + endTime + <span class="string">"ms"</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;)</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getOrder</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Ordered.LOWEST_PRECEDENCE;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-1-3-Gateway-Filterä¸RouteLocatorç»‘å®šä½¿ç”¨"><a href="#2-1-3-Gateway-Filterä¸RouteLocatorç»‘å®šä½¿ç”¨" class="headerlink" title="2.1.3 Gateway Filterä¸RouteLocatorç»‘å®šä½¿ç”¨"></a>2.1.3 Gateway Filterä¸RouteLocatorç»‘å®šä½¿ç”¨</h4><p>åœ¨org.xujin.sc.GatewayServerApplicationä¸­customerRouteLocatorå¦‚ä¸‹æ‰€ç¤º:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootApplication</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GatewayServerApplication</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> RouteLocator <span class="title">customerRouteLocator</span><span class="params">(RouteLocatorBuilder builder)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> builder.routes()</span><br><span class="line">                .route(r -&gt; r.path(<span class="string">"/test/prefix/**"</span>)</span><br><span class="line">                        .filters(f -&gt; f.stripPrefix(<span class="number">2</span>)</span><br><span class="line">                                .filter(<span class="keyword">new</span> CustomFilter())</span><br><span class="line">                                .addResponseHeader(<span class="string">"X-Response-test"</span>, <span class="string">"test"</span>))</span><br><span class="line">                        .uri(<span class="string">"lb://SC-CONSUMER"</span>)</span><br><span class="line">                        .order(<span class="number">0</span>)</span><br><span class="line">                        .id(<span class="string">"test_consumer_service"</span>)</span><br><span class="line">                )</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SpringApplication.run(GatewayServerApplication.class, args);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li><p>r.path(â€œ/test/prefix/**â€)è¡¨ç¤ºè‡ªå®šä¹‰äº†è®¿é—®å‰ç¼€ï¼Œåœ¨çœŸæ­£çš„Gatewayè¿›è¡Œè·¯ç”±è½¬å‘çš„æ—¶å€™ï¼Œä¼šç”¨è¿‡f.stripPrefix(2)æŠŠå‰ç¼€å»æ‰ã€‚</p><blockquote><p>ä½¿ç”¨åœºæ™¯:å¯ä»¥æŠŠå¯¹å¤–æš´éœ²çš„URLé€šè¿‡åŠ å‰ç¼€åˆ†ç»„æ‰“æ ‡ã€‚</p></blockquote></li><li><p>filter(new CustomFilter()</p><blockquote><p>filter(new CustomFilter()ï¼Œè¡¨ç¤ºæŠŠè‡ªå®šä¹‰çš„FilteråŠ åˆ°Filteré“¾é‡Œé¢æ‰§è¡Œï¼Œæ³¨æ„ä¸€ç‚¹æ˜¯è‡ªå®šä¹‰GlobalFilterä¸éœ€è¦åŠ è¿›å»ã€‚</p></blockquote></li><li><p>uri(â€œlb://SC-CONSUMERâ€)</p><blockquote><p>uri(â€œlb://SC-CONSUMERâ€)è¡¨ç¤ºSpring Cloud Gatewayå¯¹spring.application.nameç­‰äºsc-consumeræºæœåŠ¡åº”ç”¨ä¸­çš„URLè¿›è¡Œåè®®é€‚é…è½¬å‘ã€‚</p></blockquote></li></ol><h4 id="2-1-4-æµ‹è¯•å¦‚ä¸‹"><a href="#2-1-4-æµ‹è¯•å¦‚ä¸‹" class="headerlink" title="2.1.4 æµ‹è¯•å¦‚ä¸‹:"></a>2.1.4 æµ‹è¯•å¦‚ä¸‹:</h4><p>1.è®¿é—®<a href="http://localhost:9000/SC-CONSUMER/hello/xujin" target="_blank" rel="noopener">http://localhost:9000/SC-CONSUMER/hello/xujin</a> èƒ½æ­£å¸¸è®¿é—®ã€‚</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">DEBUG 31658 --- [ctor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Route matched: CompositeDiscoveryClient_SC-CONSUMER</span><br><span class="line">2018-05-27 09:58:07.905 DEBUG 31658 --- [ctor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://localhost:9000/SC-CONSUMER/hello/xujin] to Route&#123;id='CompositeDiscoveryClient_SC-CONSUMER', uri=lb://SC-CONSUMER, order=0, predicate=org.springframework.cloud.gateway.handler.predicate.PathRoutePredicateFactory$$Lambda$337/1295338046@f2ff0c8, gatewayFilters=[OrderedGatewayFilter&#123;delegate=org.springframework.cloud.gateway.filter.factory.RewritePathGatewayFilterFactory$$Lambda$717/1168359877@1f74a2b, order=1&#125;]&#125;</span><br><span class="line">2018-05-27 09:58:07.905 DEBUG 31658 --- [ctor-http-nio-2] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [OrderedGatewayFilter&#123;delegate=GatewayFilterAdapter&#123;delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@f5bf288&#125;, order=-1&#125;, OrderedGatewayFilter&#123;delegate=org.springframework.cloud.gateway.filter.factory.RewritePathGatewayFilterFactory$$Lambda$717/1168359877@1f74a2b, order=1&#125;, OrderedGatewayFilter&#123;delegate=GatewayFilterAdapter&#123;delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@26c77f54&#125;, order=10000&#125;, OrderedGatewayFilter&#123;delegate=GatewayFilterAdapter&#123;delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@4c38cd16&#125;, order=10100&#125;, OrderedGatewayFilter&#123;delegate=GatewayFilterAdapter&#123;delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@2c1d57bc&#125;, order=2147483637&#125;, OrderedGatewayFilter&#123;delegate=GatewayFilterAdapter&#123;delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@6e9a0bea&#125;, order=2147483646&#125;, OrderedGatewayFilter&#123;delegate=GatewayFilterAdapter&#123;delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@7ddcb0dc&#125;, order=2147483647&#125;, OrderedGatewayFilter&#123;delegate=GatewayFilterAdapter&#123;delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@3e856100&#125;, order=2147483647&#125;]</span><br></pre></td></tr></table></figure><blockquote><p>ä»ä¸Šé¢çš„æ§åˆ¶å°æ‰“å°æ—¥å¿—å¯ä»¥çœ‹å‡ºï¼Œæ²¡æœ‰æ‰“å°å‡ºè¯¥URLå¯¹åº”çš„è€—æ—¶ã€‚</p></blockquote><p>2.åŠ ä¸ŠURLå‰ç¼€/test/prefix/è®¿é—®ï¼Œæµ‹è¯•URLä¸º<br><a href="http://localhost:9000/test/prefix/hello/testCustomFilter/xujin" target="_blank" rel="noopener">http://localhost:9000/test/prefix/hello/testCustomFilter/xujin</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">2018-05-27 10:01:56.057 DEBUG 31658 --- [ctor-http-nio-2] o.s.c.g.h.RoutePredicateHandlerMapping   : Mapping [Exchange: GET http://localhost:9000/test/prefix/hello/testCustomFilter/xujin] to Route&#123;id='test_consumer_service', uri=lb://SC-CONSUMER, order=0, predicate=org.springframework.cloud.gateway.handler.predicate.PathRoutePredicateFactory$$Lambda$337/1295338046@6dbaa72e, gatewayFilters=[OrderedGatewayFilter&#123;delegate=org.springframework.cloud.gateway.filter.factory.StripPrefixGatewayFilterFactory$$Lambda$340/1149217113@41fb2078, order=0&#125;, org.xujin.sc.filter.CustomFilter@281885a3, OrderedGatewayFilter&#123;delegate=org.springframework.cloud.gateway.filter.factory.AddResponseHeaderGatewayFilterFactory$$Lambda$342/1099925775@4705cae6, order=0&#125;]&#125;</span><br><span class="line">2018-05-27 10:01:56.057 DEBUG 31658 --- [ctor-http-nio-2] o.s.c.g.handler.FilteringWebHandler      : Sorted gatewayFilterFactories: [OrderedGatewayFilter&#123;delegate=GatewayFilterAdapter&#123;delegate=org.springframework.cloud.gateway.filter.NettyWriteResponseFilter@f5bf288&#125;, order=-1&#125;, OrderedGatewayFilter&#123;delegate=org.springframework.cloud.gateway.filter.factory.StripPrefixGatewayFilterFactory$$Lambda$340/1149217113@41fb2078, order=0&#125;, OrderedGatewayFilter&#123;delegate=org.springframework.cloud.gateway.filter.factory.AddResponseHeaderGatewayFilterFactory$$Lambda$342/1099925775@4705cae6, order=0&#125;, OrderedGatewayFilter&#123;delegate=GatewayFilterAdapter&#123;delegate=org.springframework.cloud.gateway.filter.RouteToRequestUrlFilter@26c77f54&#125;, order=10000&#125;, OrderedGatewayFilter&#123;delegate=GatewayFilterAdapter&#123;delegate=org.springframework.cloud.gateway.filter.LoadBalancerClientFilter@4c38cd16&#125;, order=10100&#125;, OrderedGatewayFilter&#123;delegate=GatewayFilterAdapter&#123;delegate=org.springframework.cloud.gateway.filter.AdaptCachedBodyGlobalFilter@2c1d57bc&#125;, order=2147483637&#125;, OrderedGatewayFilter&#123;delegate=GatewayFilterAdapter&#123;delegate=org.springframework.cloud.gateway.filter.WebsocketRoutingFilter@6e9a0bea&#125;, order=2147483646&#125;, OrderedGatewayFilter&#123;delegate=GatewayFilterAdapter&#123;delegate=org.springframework.cloud.gateway.filter.NettyRoutingFilter@7ddcb0dc&#125;, order=2147483647&#125;, OrderedGatewayFilter&#123;delegate=GatewayFilterAdapter&#123;delegate=org.springframework.cloud.gateway.filter.ForwardRoutingFilter@3e856100&#125;, order=2147483647&#125;, org.xujin.sc.filter.CustomFilter@281885a3]</span><br><span class="line">2018-05-27 10:02:00.347  INFO 31658 --- [ctor-http-nio-8] o.s.cloud.gateway.filter.GatewayFilter   : /hello/testCustomFilter/xujin: 859ms</span><br></pre></td></tr></table></figure><blockquote><p>å¦‚ä¸Šæ—¥å¿—å¯ä»¥çœ‹åˆ°/hello/testCustomFilter/xujin: 859msï¼ŒGatewayè½¬å‘çš„æ—¶å€™å»æ‰äº†å‰ç¼€ã€‚</p></blockquote><h3 id="2-2-GlobalFilter"><a href="#2-2-GlobalFilter" class="headerlink" title="2.2 GlobalFilter"></a>2.2 GlobalFilter</h3><h4 id="2-2-1-ä»€ä¹ˆæ˜¯GlobalFilter"><a href="#2-2-1-ä»€ä¹ˆæ˜¯GlobalFilter" class="headerlink" title="2.2.1 ä»€ä¹ˆæ˜¯GlobalFilter"></a>2.2.1 ä»€ä¹ˆæ˜¯GlobalFilter</h4><blockquote><p>The GlobalFilter interface has the same signature as GatewayFilter. These are special filters that are conditionally applied to all routes. (This interface and usage are subject to change in future milestones).</p></blockquote><p>Spring Cloud gatewayå®šä¹‰äº†GlobalFilterçš„æ¥å£è®©æˆ‘ä»¬å»è‡ªå®šä¹‰å®ç°è‡ªå·±çš„çš„GlobalFilterã€‚GlobalFilteræ˜¯ä¸€ä¸ªå…¨å±€çš„Filterï¼Œä½œç”¨äºæ‰€æœ‰çš„è·¯ç”±ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">GlobalFilter</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * Process the Web request and (optionally) delegate to the next</span></span><br><span class="line"><span class="comment">	 * &#123;<span class="doctag">@code</span> WebFilter&#125; through the given &#123;<span class="doctag">@link</span> GatewayFilterChain&#125;.</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> exchange the current server exchange</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> chain provides a way to delegate to the next filter</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span> &#123;<span class="doctag">@code</span> Mono&lt;Void&gt;&#125; to indicate when request processing is complete</span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function">Mono&lt;Void&gt; <span class="title">filter</span><span class="params">(ServerWebExchange exchange, GatewayFilterChain chain)</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="2-2-2-è‡ªå®šä¹‰å…¨å±€è¿‡æ»¤å™¨-Custom-GlobalFilter"><a href="#2-2-2-è‡ªå®šä¹‰å…¨å±€è¿‡æ»¤å™¨-Custom-GlobalFilter" class="headerlink" title="2.2.2 è‡ªå®šä¹‰å…¨å±€è¿‡æ»¤å™¨(Custom GlobalFilter)"></a>2.2.2 è‡ªå®šä¹‰å…¨å±€è¿‡æ»¤å™¨(Custom GlobalFilter)</h4><p>åœ¨è¿™é‡Œç®€å•å®šä¹‰AuthSignatureFilterå®ç°<code>GlobalFilter</code>ï¼Œä½¿ç”¨åœºæ™¯å°±æ˜¯Gatewayå¯¹è¯·æ±‚çš„URLæ ¡éªŒæƒé™ï¼Œåˆ¤æ–­è¯·æ±‚çš„URLæ˜¯å¦æ˜¯åˆæ³•è¯·æ±‚ã€‚é€šè¿‡ä»ServerWebExchangeè·å–è¯·æ±‚ä¸Šä¸‹æ–‡ä¸­authTokenå¯¹åº”çš„å€¼ï¼Œè¿›è¡Œåˆ¤nullå¤„ç†ï¼Œå…¶å®ƒçš„checké€»è¾‘å¯ä»¥è‡ªå®šå®šåˆ¶ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> org.xujin.sc.filter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.cloud.gateway.filter.GatewayFilterChain;</span><br><span class="line"><span class="keyword">import</span> org.springframework.cloud.gateway.filter.GlobalFilter;</span><br><span class="line"><span class="keyword">import</span> org.springframework.core.Ordered;</span><br><span class="line"><span class="keyword">import</span> org.springframework.http.HttpStatus;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.server.ServerWebExchange;</span><br><span class="line"><span class="keyword">import</span> reactor.core.publisher.Mono;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è°ƒç”¨é‰´æƒ</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AuthSignatureFilter</span> <span class="keyword">implements</span> <span class="title">GlobalFilter</span>, <span class="title">Ordered</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Mono&lt;Void&gt; <span class="title">filter</span><span class="params">(ServerWebExchange exchange, GatewayFilterChain chain)</span> </span>&#123;</span><br><span class="line">        String token = exchange.getRequest().getQueryParams().getFirst(<span class="string">"authToken"</span>);</span><br><span class="line">        <span class="keyword">if</span> (token == <span class="keyword">null</span> || token.isEmpty()) &#123;</span><br><span class="line">            exchange.getResponse().setStatusCode(HttpStatus.UNAUTHORIZED);</span><br><span class="line">            <span class="keyword">return</span> exchange.getResponse().setComplete();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> chain.filter(exchange);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getOrder</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">200</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>GlobalFilterå†™å®Œäº†ï¼Œé‚£é—®é¢˜æ¥äº†ï¼Ÿå¦‚ä½•è®©å…¶åœ¨Gatewayä¸­è¿è¡Œç”Ÿæ•ˆï¼Œæœ‰ä¸¤ç§æ–¹å¼ä¸€ç§ç›´æ¥åŠ <code>@Component</code>æ³¨è§£ï¼Œå¦å¤–ä¸€ç§å¯ä»¥åœ¨ Spring Config ä¸­é…ç½®è¿™ä¸ª Beanå¦‚ä¸‹æ‰€ç¤º:</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> AuthSignatureFilter <span class="title">authSignatureFilter</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="keyword">new</span> AuthSignatureFilter();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h4><p>1.è®¿é—®<a href="http://localhost:9000/test/prefix/hello/testCustomFilter/xujin" target="_blank" rel="noopener">http://localhost:9000/test/prefix/hello/testCustomFilter/xujin</a> å¦‚ä¸‹æ‰€ç¤ºç”±äºauthTokenä¸ºç©º401è¿”å›.</p><p><img src="http://springcloud-new.oss-cn-shenzhen.aliyuncs.com/91ce199f4af8f4bd9576aace65940253.jpeg?Expires=1842749245&amp;OSSAccessKeyId=LTAI57F52hRuWq3h&amp;Signature=Is0KT0QAVXkPS20EdSPvDqmlxmc%3D" alt=""></p><p>2.è®¿é—®<a href="http://localhost:9000/test/prefix/hello/testCustomFilter/xujin?authToken=asdasdsddasadsadsadsdadsewew32rg" target="_blank" rel="noopener">http://localhost:9000/test/prefix/hello/testCustomFilter/xujin?authToken=asdasdsddasadsadsadsdadsewew32rg</a></p><p><img src="http://springcloud-new.oss-cn-shenzhen.aliyuncs.com/86509f882391c3a20d2f32778dd1c2e9.jpeg?Expires=1842749511&amp;OSSAccessKeyId=LTAI57F52hRuWq3h&amp;Signature=lAd7U0lj4WZ0HMWF9SpbfKJ4aR8%3D" alt=""></p><div class="post-announce">æ„Ÿè°¢æ‚¨çš„é˜…è¯»ï¼Œæœ¬æ–‡ç”± <a href="http://xujin.org">è®¸è¿›æ²‰æ€å½•-ä¸“æ³¨äºäº’è”ç½‘ä¸ä¸­é—´ä»¶åŸºç¡€æ¶æ„æŠ€æœ¯ç ”ç©¶</a> ç‰ˆæƒæ‰€æœ‰ã€‚å¦‚è‹¥è½¬è½½ï¼Œè¯·æ³¨æ˜å‡ºå¤„ï¼šè®¸è¿›æ²‰æ€å½•-ä¸“æ³¨äºäº’è”ç½‘ä¸ä¸­é—´ä»¶åŸºç¡€æ¶æ„æŠ€æœ¯ç ”ç©¶ï¼ˆ<a href="http://xujin.org/sc/gw/gw07/">http://xujin.org/sc/gw/gw07/</a>ï¼‰</div><div class="post__prevs"><div class="post__prev"><a href="/sc/gw/gw05/" title="Spring Cloud GatewayåŸºäºæœåŠ¡å‘ç°çš„é»˜è®¤è·¯ç”±è§„åˆ™"><i class="iconfont icon-prev"></i>Spring Cloud GatewayåŸºäºæœåŠ¡å‘ç°çš„é»˜è®¤è·¯ç”±è§„åˆ™</a></div><div class="post__prev post__prev--right"><a href="/sc/gw/gw08/" title="Spring Cloud Gatewayä¸­çš„æƒé‡è·¯ç”±">Spring Cloud Gatewayä¸­çš„æƒé‡è·¯ç”±<i class="iconfont icon-next"></i></a></div></div></div></article><div id="comment-container"></div></div><aside class="page__sidebar"><div id="toc" class="toc-article"><h3 class="block__title">æ–‡ç« ç›®å½•</h3><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-Spring-Cloud-gatewayçš„Filter"><span class="toc-text">1. Spring Cloud gatewayçš„Filter</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-GatewayFilterä¸GlobalFilterçš„åŒºåˆ«"><span class="toc-text">1.1 GatewayFilterä¸GlobalFilterçš„åŒºåˆ«</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-æœ¬æ–‡ä»£ç åœ°å€"><span class="toc-text">1.2 æœ¬æ–‡ä»£ç åœ°å€</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-GatewayFilterå’ŒGlobalFilter"><span class="toc-text">2. GatewayFilterå’ŒGlobalFilter</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-GatewayFilter"><span class="toc-text">2.1 GatewayFilter</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-1-ä»€ä¹ˆæ˜¯GatewayFilter"><span class="toc-text">2.1.1 ä»€ä¹ˆæ˜¯GatewayFilter</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#2-1-2-è‡ªå®šä¹‰GatewayFilter-Custom-GatewayFilter"><span class="toc-text">2.1.2 è‡ªå®šä¹‰GatewayFilter(Custom GatewayFilter)</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-3-Gateway-Filterä¸RouteLocatorç»‘å®šä½¿ç”¨"><span class="toc-text">2.1.3 Gateway Filterä¸RouteLocatorç»‘å®šä½¿ç”¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-1-4-æµ‹è¯•å¦‚ä¸‹"><span class="toc-text">2.1.4 æµ‹è¯•å¦‚ä¸‹:</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-GlobalFilter"><span class="toc-text">2.2 GlobalFilter</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-1-ä»€ä¹ˆæ˜¯GlobalFilter"><span class="toc-text">2.2.1 ä»€ä¹ˆæ˜¯GlobalFilter</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-2-2-è‡ªå®šä¹‰å…¨å±€è¿‡æ»¤å™¨-Custom-GlobalFilter"><span class="toc-text">2.2.2 è‡ªå®šä¹‰å…¨å±€è¿‡æ»¤å™¨(Custom GlobalFilter)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#æµ‹è¯•"><span class="toc-text">æµ‹è¯•</span></a></li></ol></li></ol></li></ol></div></aside></main><footer class="page__footer"><section class="footer__top"><div class="page__container footer__container"><div class="footer-top__item footer-top__item--2"><h3 class="item__title">å…³äº</h3><div class="item__content"><p class="item__text">è½¯ä»¶ä¸–ç•Œå°±æ˜¯æ¨¡æ‹Ÿå®¢è§‚ä¸–ç•Œï¼Œéœ€æ±‚åˆ†æï¼ŒæŠ€æœ¯é©±åŠ¨ï¼Œä»è€Œæ”¹å˜ä¸–ç•Œ!</p><ul class="footer__contact-info"><li class="contact-info__item"><i class="iconfont icon-address"></i> <span>Shang Hai, China</span></li><li class="contact-info__item"><i class="iconfont icon-email2"></i> <span>Software_King@@qq.com</span></li></ul></div></div><div class="footer-top__item footer__image"><img src="/img/wx.jpeg" alt="logo" title="è®¸è¿›æ²‰æ€å½•-ä¸“æ³¨äºäº’è”ç½‘ä¸ä¸­é—´ä»¶åŸºç¡€æ¶æ„æŠ€æœ¯ç ”ç©¶"></div><div class="footer-top__item"><h3 class="item__title">å‹æƒ…é“¾æ¥</h3><div class="item__content"><ul class="footer-top__list"><li class="list-item"><a href="http://www.xujin.org" title="è®¸è¿›|æ²‰æ€å½•" target="_blank">è®¸è¿›|æ²‰æ€å½•</a></li><li class="list-item"><a href="http://springcloud.cn" title="Spring Cloudä¸­å›½ç¤¾åŒº" target="_blank">Spring Cloudä¸­å›½ç¤¾åŒº</a></li><li class="list-item"><a href="http://www.cnblogs.com/ACMer/" title="æˆ‘çš„åšå®¢å›­" target="_blank">æˆ‘çš„åšå®¢å›­</a></li><li class="list-item"><a href="http://blog.sina.com.cn/softwaremi" title="æ–°æµªåšå®¢" target="_blank">æ–°æµªåšå®¢</a></li><li class="list-item"><a href="http://blog.chingzhu.com/" title="æœ±æ¸…åšå®¢" target="_blank">æœ±æ¸…åšå®¢</a></li><li class="list-item"><a href="http://tietang.wang/" title="é“æ±¤åšå®¢" target="_blank">é“æ±¤åšå®¢</a></li><li class="list-item"><a href="http://blog.csdn.net/forezp" title="æ–¹å¿—æœ‹çš„åšå®¢" target="_blank">æ–¹å¿—æœ‹çš„åšå®¢</a></li></ul></div></div></div></section><section class="footer__bottom"><div class="page__container footer__container"><p class="footer__copyright">Powered by <a href="http://xujin.org/" target="_blank">Halo</a>, Made by <a href="https://github.com/softwareking" target="_blank">HaloğŸ’«</a>.</p><ul class="footer__social-network clearfix"><li class="social-network__item"><a href="https://github.com/softwareking" target="_blank" title="github"><i class="iconfont icon-github"></i></a></li><li class="social-network__item"><a href="/atom.xml" target="_blank" title="rss"><i class="iconfont icon-rss"></i></a></li><li class="social-network__item"><a href="/atom.xml" target="_blank" title="linkedin"><i class="iconfont icon-in"></i></a></li><li class="social-network__item"><a href="mailto:softwareking@qq.com" target="_blank" title="email"><i class="iconfont icon-email"></i></a></li></ul><div class="busuanzi"><script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script><span>ğŸ€<span class="post-count">27.0k</span> </span><span>| </span><span id="busuanzi_container_site_uv" style="display:inline">ğŸ‘½<span id="busuanzi_value_site_uv">1000000</span><span></span></span><span class="footer-separator"> | </span><span id="busuanzi_container_site_pv" style="display:inline">ğŸŒ€<span id="busuanzi_value_site_pv">1000000</span><span></span></span></div></div></section></footer><div id="back-top" class="back-top back-top--hidden js-hidden"><i class="iconfont icon-top"></i></div></div><script src="/js/common.js"></script><script src="/js/page/post.js"></script><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script><script src="/js/md5.min.js"></script><script>var tags=["Spring Cloud Gateway"],gitalk=new Gitalk({clientID:"eb06a78a435d69fa8e58",clientSecret:"8efb05271f956713c87646df6c332d744b634a3f",repo:"https://github.com/SoftwareKing/italk",owner:"Software_King@qq.com",admin:["Software_King@qq.com"],labels:tags,id:new Date(15273144e5).getTime()>new Date("2018-02-15").getTime()?md5(location.href):location.href});gitalk.render("comment-container")</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></body></html>